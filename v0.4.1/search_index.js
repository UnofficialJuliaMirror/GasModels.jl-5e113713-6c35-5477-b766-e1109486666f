var documenterSearchIndex = {"docs":
[{"location":"#GasModels.jl-Documentation-1","page":"Home","title":"GasModels.jl Documentation","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"CurrentModule = GasModels","category":"page"},{"location":"#Overview-1","page":"Home","title":"Overview","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"GasModels.jl is a Julia/JuMP package for Steady-State Gas Network Optimization. It provides utilities for parsing and modifying network data (see GasModels Network Data Format for details), and is designed to enable computational evaluation of emerging gas network formulations and algorithms in a common platform.","category":"page"},{"location":"#","page":"Home","title":"Home","text":"The code is engineered to decouple Problem Specifications (e.g. Gas Flow, Expansion Planning, ...) from Network Formulations (e.g. MINLP, MISOC-relaxation, ...). This enables the definition of a wide variety of gas network formulations and their comparison on common problem specifications.","category":"page"},{"location":"#Installation-1","page":"Home","title":"Installation","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"The latest stable release of GasModels will be installed using the Julia package manager with","category":"page"},{"location":"#","page":"Home","title":"Home","text":"Pkg.add(\"GasModels\")","category":"page"},{"location":"#","page":"Home","title":"Home","text":"For the current development version, \"checkout\" this package with","category":"page"},{"location":"#","page":"Home","title":"Home","text":"Pkg.checkout(\"GasModels\")","category":"page"},{"location":"#","page":"Home","title":"Home","text":"At least one solver is required for running GasModels.  The open-source solver Pavito is recommended and can be used to solve a wide variety of the problems and network formulations provided in GasModels.  The Pavito solver can be installed via the package manager with","category":"page"},{"location":"#","page":"Home","title":"Home","text":"Pkg.add(\"Pavito\")","category":"page"},{"location":"#","page":"Home","title":"Home","text":"Test that the package works by running","category":"page"},{"location":"#","page":"Home","title":"Home","text":"Pkg.test(\"GasModels\")","category":"page"},{"location":"quickguide/#Quick-Start-Guide-1","page":"Getting Started","title":"Quick Start Guide","text":"","category":"section"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"Once Gas Models is installed, Pajarito is installed, and a network data file (e.g. \"test/data/gaslib-40.json\") has been acquired, a Gas Flow with SOC relaxation can be executed with,","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"using GasModels\nusing Pavito\n\nrun_soc_gf(\"../test/data/gaslib-40.json\", PavitoSolver())","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"Similarly, a full non-convex Gas Flow can be executed with a MINLP solver like","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"run_nl_gf(\"../test/data/gaslib-40.json\", CouenneNLSolver())","category":"page"},{"location":"quickguide/#Getting-Results-1","page":"Getting Started","title":"Getting Results","text":"","category":"section"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"The run commands in GasModels return detailed results data in the form of a dictionary. This dictionary can be saved for further processing as follows,","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"run_soc_gf(\"../test/data/gaslib-40.json\", PavitoSolver())","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"For example, the algorithm's runtime and final objective value can be accessed with,","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"result[\"solve_time\"]\nresult[\"objective\"]","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"The \"solution\" field contains detailed information about the solution produced by the run method. For example, the following dictionary comprehension can be used to inspect the junction pressures in the solution,","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"Dict(name => data[\"p\"] for (name, data) in result[\"solution\"][\"junction\"])","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"For more information about GasModels result data see the GasModels Result Data Format section.","category":"page"},{"location":"quickguide/#Accessing-Different-Formulations-1","page":"Getting Started","title":"Accessing Different Formulations","text":"","category":"section"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"The function \"runsocgf\" and \"runnlgf\" are shorthands for a more general formulation-independent gas flow execution, \"rungf\". For example, `runsoc_gf` is equivalent to,","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"run_gf(\"test/data/gaslib-40.json\", MISOCPGasModel, PavitoSolver())","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"where \"MISOCPGasModel\" indicates an SOC formulation of the gas flow equations.  This more generic run_gf() allows one to solve a gas flow feasability problem with any gas network formulation implemented in GasModels.  For example, the full non convex Gas Flow can be run with,","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"run_gf(\"test/data/gaslib-40.json\", MINLPGasModel, CouenneNLSolver())","category":"page"},{"location":"quickguide/#Modifying-Network-Data-1","page":"Getting Started","title":"Modifying Network Data","text":"","category":"section"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"The following example demonstrates one way to perform multiple GasModels solves while modify the network data in Julia,","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"network_data = GasModels.parse_file(\"test/data/gaslib-40.json\")\n\nrun_gf(network_data, MISOCPGasModel, PavitoSolver())\n\nnetwork_data[\"junction\"][\"24\"][\"pmin\"] = 30.0\n\nrun_gf(network_data, MISOCPGasModel, PavitoSolver())","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"For additional details about the network data, see the GasModels Network Data Format section.","category":"page"},{"location":"quickguide/#Inspecting-the-Formulation-1","page":"Getting Started","title":"Inspecting the Formulation","text":"","category":"section"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"The following example demonstrates how to break a run_gf call into separate model building and solving steps.  This allows inspection of the JuMP model created by GasModels for the gas flow problem,","category":"page"},{"location":"quickguide/#","page":"Getting Started","title":"Getting Started","text":"gm = build_generic_model(\"test/data/gaslib-40.json\", MISOCPGasModel, GasModels.post_gf)\n\nprint(gm.model)\n\nsolve_generic_model(gm, PavitoSolver())","category":"page"},{"location":"network-data/#GasModels-Network-Data-Format-1","page":"Network Data Format","title":"GasModels Network Data Format","text":"","category":"section"},{"location":"network-data/#The-Network-Data-Dictionary-1","page":"Network Data Format","title":"The Network Data Dictionary","text":"","category":"section"},{"location":"network-data/#","page":"Network Data Format","title":"Network Data Format","text":"Internally GasModels utilizes a dictionary to store network data. The dictionary uses strings as key values so it can be serialized to JSON for algorithmic data exchange. The default I/O for GasModels utilizes this serialization as a text file. When used as serialization, the data is assumed to be in per_unit (non dimenisionalized) or SI units.","category":"page"},{"location":"network-data/#","page":"Network Data Format","title":"Network Data Format","text":"The network data dictionary structure is roughly as follows:","category":"page"},{"location":"network-data/#","page":"Network Data Format","title":"Network Data Format","text":"{\n\"name\":<string>,                   # a name for the model\n\"temperature\":<float>,             # gas temperature. SI units are kelvin\n\"multinetwork\":<boolean>,          # flag for whether or not this is multiple networks\n\"gas_molar_mass\":<float>,          # molecular mass of the gas. SI units are kg/mol\n\"standard_density\":<float>,        # Standard (nominal) density of the gas. SI units are kg/m^3\n\"per_unit\":<boolean>,              # Whether or not the file is in per unit (non dimensional units) or SI units.  Note that the only quantities that are non-dimensionalized are pressure and flux.  \n\"compressibility_factor\":<float>,  # Gas compressability. Non-dimensional.\n\"baseQ\":<float>,                   # Base for non-dimensionalizing volumetric flow at standard density. SI units are m^3/s\n\"baseP\":<float>,                   # Base for non-dimensionalizing pressure. SI units are pascal.\n\"junction\":{\n    \"1\":{\n      \"pmax\": <float>,   # maximum pressure. SI units are pascals\n      \"pmin\": <float>,   # minimum pressure. SI units are pascals\n      \"status\": <int>,   # status of the component (0 = off, 1 = on). Default is 1.\n       ...\n    },\n    \"2\":{...},\n    ...\n},\n\"consumer\":{\n    \"1\":{\n      \"ql_junc\": <float>,  # junction id\n      \"qlmax\": <float>,  # the maximum volumetric gas demand at standard density. SI units are m^3/s.\n      \"qlmin\": <float>,  # the minimum volumetric gas demand gas demand at standard density. SI units are m^3/s.\n      \"ql\": <float>, # nominal volumetric gas demand gas demand at standard density. SI units are m^3/s.\n      \"priority\": <float>, # priority for serving the variable load. High numbers reflect a higher desired to serve this load.\n      \"dispatchable\": <int>,  # whether or not the unit is dispatchable (0 = consumer should produce qg, 1 = consumer can produce between qlmin and qlmax).\n      \"status\": <int>,   # status of the component (0 = off, 1 = on). Default is 1.\n       ...\n    },\n    \"2\":{...},\n    ...\n},\n\"producer\":{\n    \"1\":{\n      \"qg_junc\": <float>,     # junction id\n      \"qgmin\": <float>,       # the minimum volumetric gas production at standard density. SI units are m^3/s.\n      \"qgmax\": <float>,       # the maximum volumetric gas production at standard density. SI units are m^3/s.\n      \"qg\": <float>,          # nominal volumetric gas production at standard density. SI units are m^3/s.\n      \"dispatchable\": <int>,  # whether or not the unit is dispatchable (0 = producer should produce qg, 1 = producer can produce between qgmin and qgmax).\n      \"status\": <int>,        # status of the component (0 = off, 1 = on). Default is 1.\n       ...\n    },\n    \"2\":{...},\n    ...\n},\n\"pipe\":{\n    \"1\":{\n      \"length\": <float>,            # the length of the connection. SI units are m.\n      \"f_junction\": <int>,          # the \"from\" side junction id\n      \"t_junction\": <int>,          # the \"to\" side junction id\n      \"friction_factor\": <float>,   # the friction component of the resistance term of the pipe. Non dimensional.\n      \"diameter\": <float>,          # the diameter of the connection. SI units are m.\n      \"status\": <int>,              # status of the component (0 = off, 1 = on). Default is 1.\n      \"directed\": <int>,            # direction of the component (1 = f_junction -> t_junction, 0 = undirected, -1 = t_junction -> f_junction). Default is 0.\n        ...\n    },\n    \"2\":{...},\n    ...\n},\n\"compressor\":{\n    \"1\":{\n      \"f_junction\": <int>,          # the \"from\" side junction id\n      \"t_junction\": <int>,          # the \"to\" side junction id\n      \"c_ratio_min\": <float>,       # minimum multiplicative pressure change (compression or decompressions). Compression only goes from f_junction to t_junction (1 if flow reverses).\n      \"c_ratio_max\": <float>,       # maximum multiplicative pressure change (compression or decompressions). Compression only goes from f_junction to t_junction (1 if flow reverses).      \n      \"status\": <int>,              # status of the component (0 = off, 1 = on). Default is 1.\n      \"directed\": <int>,            # direction of the component (1 = f_junction -> t_junction, 0 = undirected, -1 = t_junction -> f_junction). Default is 0.\n        ...\n    },\n    \"2\":{...},\n    ...\n}\n\"short_pipe\":{\n    \"1\":{\n      \"f_junction\": <int>,          # the \"from\" side junction id\n      \"t_junction\": <int>,          # the \"to\" side junction id\n      \"status\": <int>,              # status of the component (0 = off, 1 = on). Default is 1.\n      \"directed\": <int>,            # direction of the component (1 = f_junction -> t_junction, 0 = undirected, -1 = t_junction -> f_junction). Default is 0.\n        ...\n    },\n    \"2\":{...},\n    ...\n}\n\"valve\":{\n    \"1\":{\n      \"f_junction\": <int>,          # the \"from\" side junction id\n      \"t_junction\": <int>,          # the \"to\" side junction id\n      \"status\": <int>,              # status of the component (0 = off, 1 = on). Default is 1.\n      \"directed\": <int>,            # direction of the component (1 = f_junction -> t_junction, 0 = undirected, -1 = t_junction -> f_junction). Default is 0.\n        ...\n    },\n    \"2\":{...},\n    ...\n}\n\"control_valve\":{\n    \"1\":{\n      \"f_junction\": <int>,          # the \"from\" side junction id\n      \"c_ratio_min\": <float>,       # minimum multiplicative pressure change (compression or decompressions). Compression only goes from f_junction to t_junction (1 if flow reverses).\n      \"c_ratio_max\": <float>,       # maximum multiplicative pressure change (compression or decompressions). Compression only goes from f_junction to t_junction (1 if flow reverses).      \n      \"status\": <int>,              # status of the component (0 = off, 1 = on). Default is 1.\n      \"directed\": <int>,            # direction of the component (1 = f_junction -> t_junction, 0 = undirected, -1 = t_junction -> f_junction). Default is 0.\n        ...\n    },\n    \"2\":{...},\n    ...\n}\n\"resistor\":{\n    \"1\":{\n      \"f_junction\": <int>,          # the \"from\" side junction id\n      \"t_junction\": <int>,          # the \"to\" side junction id\n      \"drag\": <float>,              # the drag factor of resistors. Non dimensional.\n      \"status\": <int>,              # status of the component (0 = off, 1 = on). Default is 1.\n      \"directed\": <int>,            # direction of the component (1 = f_junction -> t_junction, 0 = undirected, -1 = t_junction -> f_junction). Default is 0.\n        ...\n    },\n    \"2\":{...},\n    ...\n}\n}","category":"page"},{"location":"network-data/#","page":"Network Data Format","title":"Network Data Format","text":"All data is assumed to have consistent units (i.e. metric, English, etc.)","category":"page"},{"location":"network-data/#","page":"Network Data Format","title":"Network Data Format","text":"The following commands can be used to explore the network data dictionary,","category":"page"},{"location":"network-data/#","page":"Network Data Format","title":"Network Data Format","text":"network_data = GasModels.parse_file(\"gaslib-40.json\")\ndisplay(network_data)","category":"page"},{"location":"result-data/#GasModels-Result-Data-Format-1","page":"Result Data Format","title":"GasModels Result Data Format","text":"","category":"section"},{"location":"result-data/#The-Result-Data-Dictionary-1","page":"Result Data Format","title":"The Result Data Dictionary","text":"","category":"section"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"GasModels utilizes a dictionary to organize the results of a run command. The dictionary uses strings as key values so it can be serialized to JSON for algorithmic data exchange. The data dictionary organization is designed to be consistent with the GasModels The Network Data Dictionary.","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"At the top level the results data dictionary is structured as follows:","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"{\n\"solver\":<string>,       # name of the Julia class used to solve the model\n\"status\":<julia symbol>, # solver status at termination\n\"solve_time\":<float>,    # reported solve time (seconds)\n\"objective\":<float>,     # the final evaluation of the objective function\n\"objective_lb\":<float>,  # the final lower bound of the objective function (if available)\n\"machine\":{...},         # computer hardware information (details below)\n\"data\":{...},            # test case information (details below)\n\"solution\":{...}         # complete solution information (details below)\n}","category":"page"},{"location":"result-data/#Machine-Data-1","page":"Result Data Format","title":"Machine Data","text":"","category":"section"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"This object provides basic information about the hardware that was  used when the run command was called.","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"{\n\"cpu\":<string>,    # CPU product name\n\"memory\":<string>  # the amount of system memory (units given)\n}","category":"page"},{"location":"result-data/#Case-Data-1","page":"Result Data Format","title":"Case Data","text":"","category":"section"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"This object provides basic information about the network cases that was  used when the run command was called.","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"{\n\"name\":<string>,      # the name from the network data structure\n\"junction_count\":<int>,    # the number of nodes in the network data structure\n\"connection_count\":<int>  # the number of edges in the network data structure\n}","category":"page"},{"location":"result-data/#Solution-Data-1","page":"Result Data Format","title":"Solution Data","text":"","category":"section"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"The solution object provides detailed information about the solution  produced by the run command.  The solution is organized similarly to  The Network Data Dictionary with the same nested structure and  parameter names, when available.  A network solution most often only includes a small subset of the data included in the network data.","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"For example the data for a junction, data[\"junction\"][\"1\"] is structured as follows,","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"{\n\"pmin\": 14000.0,\n\"pmax\": 80000.0,\n...\n}","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"A solution specifying a pressure for the same case, i.e. result[\"solution\"][\"junction\"][\"1\"], would result in,","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"{\n\"p\":50.5,\n}","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"Because the data dictionary and the solution dictionary have the same structure  InfrastructureModels update_data! helper function can be used to  update a data dictionary with the values from a solution as follows,","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"InfrastructureModels.update_data!(data, result[\"solution\"])","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"By default, all results are reported in per-unit (non-dimenionalized). Below are common outputs of implemented optimization models","category":"page"},{"location":"result-data/#","page":"Result Data Format","title":"Result Data Format","text":"{\n\"junction\":{\n    \"1\":{\n      \"p\": <float>,      # pressure. Non-dimensional quantity. Multiply by baseP to get pascals\n      \"psqr\": <float>,   # pressure squared. Non-dimensional quantity. Multiply by baseP^2 to get pascals^2      \n       ...\n    },\n    \"2\":{...},\n    ...\n},\n\"consumer\":{\n    \"1\":{\n      \"fl\": <float>,  # variable mass flow consumed. Non-dimensional quantity. Multiply by baseQ/standard_density to get kg/s. \n      \"ql\": <float>,  # the varible volumetric gas demand at standard density. Non-dimensional quantity. Multiply by baseQ to get m^3/s. \n       ...\n    },\n    \"2\":{...},\n    ...\n},\n\"producer\":{\n    \"1\":{\n      \"fg\": <float>,  # variable mass flow produced. Non-dimensional quantity. Multiply by baseQ/standard_density to get kg/s. \n      \"qg\": <float>,  # the varible volumetric gas produced at standard density. Non-dimensional quantity. Multiply by baseQ to get m^3/s.        ...\n    },\n    \"2\":{...},\n    ...\n},\n\"connection\":{\n    \"1\":{\n      \"f\": <float>,                 # mass flow through the pipe.  Non-dimensional quantity. Multiply by baseQ/standard_density to get kg/s. Mass flux is obtained through division of the cross-sectional area (A) of the pipe. A= (pi*diameter^2)/4\n      \"yp\": <int>,                  # 1 if flux flows from f_junction. 0 otherwise\n      \"yn\": <int>,                  # 1 if flux flows from t_junction. 0 otherwise\n      \"v\": <int>,                   # 1 if valve is open. 0 otherwise      \n      \"ratio\": <float>,             # multiplicative (de)compression ratio\n        ...\n    },\n    \"2\":{...},\n    ...\n},\n\"ne_connection\":{\n    \"1\":{\n      \"f\": <float>,                 # mass flow through the pipe.  Non-dimensional quantity. Multiply by baseQ/standard_density to get kg/s. Mass flux is obtained through division of the cross-sectional area (A) of the pipe. A= (pi*diameter^2)/4\n      \"yp\": <int>,                  # 1 if flux flows from f_junction. 0 otherwise\n      \"yn\": <int>,                  # 1 if flux flows from t_junction. 0 otherwise\n      \"v\": <int>,                   # 1 if valve is open. 0 otherwise      \n      \"ratio\": <float>,             # multiplicative (de)compression ratio\n      \"built_zp\": <float>,          # 1 if the pipe was built. 0 otherwise.\n      \"built_zc\": <float>,          # 1 if compressor was built. 0 otherwise.      \n        ...\n    },\n    \"2\":{...},\n    ...\n}\n}","category":"page"},{"location":"math-model/#The-GasModels-Mathematical-Model-1","page":"Mathematical Model","title":"The GasModels Mathematical Model","text":"","category":"section"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"As GasModels implements a variety of gas network optimization problems, the implementation is the best reference for precise mathematical formulations.  This section provides a mathematical specification for a prototypical Gas Flow problem, to provide an overview of the typical mathematical models in GasModels.","category":"page"},{"location":"math-model/#Gas-Flow-1","page":"Mathematical Model","title":"Gas Flow","text":"","category":"section"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"GasModels implements a steady-state model of gas flow based on the Weymouth formulation that uses the 1-D hydrodynamic equations for natural gas flow in a pipe. In the following paragraphs, a derivation of the steady state equations used in GasModels is shown. To that end, we first assume that the flow is steady. Given this assumption, the conservation of momentum equation for the flow of gas in a pipe is given by ","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"p fracpartial ppartial x = -fraclambda a^2 phi phi2 D","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"where p is pressure, lambda is a non dimensional friction factor, phi is mass flux, and D is the diameter of the pipe. Here, a^2=fracZRTm where Z is the gas compressibility factor, R is the universal gas constant, m is the molar mass of the gas, and T is the gas temperature. Again, for steady flow, the mass conservation reduces to:","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"    fracpartial phipartial x=0 ","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"where we have assumed the pipe area does not change with x. We also assume that gas pressure and gas density (rho) satisfy the equation of state, i.e. p = a^2 rho ","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"Given that p fracpartial ppartial x= frac12 fracpartial p^2partial x and phi is a constant througout the pipe (from the mass conservation), the conservation of momentum equation is integrated from the start of the pipe at x=0 to the end of the pipe at x=L, where L is the length of the pipe. Then, the equation for flux across the pipe is stated as","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"    p^2(L)-p^2(0) = frac-lambda L a^2 phi phi D  ","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"We typically express the mass flux through the pipe in terms of mass flow, f, where f=phi A. Here, A=fracpi D^24 is the cross-sectional area of the pipe. Thus, the equation for mass flow through the pipe is stated as ","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"    p^2(L)-p^2(0) = frac-lambda L a^2 f f D A^2 ","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"To create a better numerically conditioned problem, it is very useful to non-dimensionalize the units. Here we use a typical pressure p_0 and a typical mass flow f_0 and normalize the equations. This yields","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"    tildep^2(L)-tildep^2(0) = -tildef tildef left(fraclambda L Dright) left(fracf_0^2a^2A^2p_0^2right)","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"where tildef=fracff_0 and tildep=fracpp_0 are the dimensionless mass flow and pressure, respectively, and are both of order one. Note that both terms in parenthesis on the right hand side of this equation are dimensionless.  For the purposes of convenience, we define resistance, w, as the constant ","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"w=left(fraclambda L Dright) left(fracf_0^2a^2A^2p_0^2right)","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"Finally, in most data sets, nodal injections and withdrawals are defined in terms of volumetric flow, q, at a STP conditions. Given this data, we non-dimensionalize based on q. At STP conditions, the mass flow is derived as f=fracqrho_s, where  rho_s is the gas density at STP conditions.","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"A complete gas flow mathematical model is the defined by","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"beginaligned\ntextsets \n N  textjunctions \n A^p  textpipes  \n A^c  textcompressors  \n A^v  textvalves  \n A = A^p cup A^c cup A^v  textedges   \n P P_i  textproducers and producers at junction i   \n C C_i  textconsumers and consumers at junction i    \n\ntextdata \n w_a  textresistance factor of pipeline a \n fl_j  textconsumption (mass flow) at consumer j \n fg_j  textproduction (mass flow) at producer j \n underlinealpha_a=1 overlinealpha_a  text(de)compression limits (squared) of edge a \n underlinep_i ge 0overlinep_i  textlimits on pressure squared at node i \n\ntextvariables \n p_i  textpressure squared at node i \n f_a  textmass flow on edge a \n alpha_a  textcompression ratio on compressor a\n v_a  textvalve status for valve a 1 if valve is open\n\ntextconstraints \n (p_i - p_j) = w_a f_af_a textWeymouth equation for pipe a \n textconnected from junction i to junction j  \nsumlimits_a=a_ijin A f_a - sumlimits_a=a_ji in A f_a = sum_j in P_i fg_j- sum_j in C_i fl_j  textmass flow balance at junction i \n alpha_a p_i = p_j  textcompression boost at compressor a \ntextmass flux balance at junction i \n f_a (1-alpha_a) le 0 textcompression ratio is forced to 1 \n textwhen flow is reversed through compressor a \nunderlinep_i leq p_i leq overlinep_i  textpressure limits at junction i \nunderlinealpha_a leq alpha_a leq overlinealpha_a  textcompression limits at compressor i \n-v_a M leq f_a leq v_a M  textonoff operations for valve a \n textwhere M is the maximum flow through the valve \np_j - v_a overlinep_j leq p_i leq p_j + v_a overlinep_i  textlinks junction pressures of valve a \n textconnected from junction i to junction j\nendaligned","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"most of the optimization models of GasModels are variations of this formulation. In practice, we discretize on flow direction to reduce the non convexities of this model and relax the assumption that the minimum compression ratio is 1.","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"SI Units for various parameters","category":"page"},{"location":"math-model/#","page":"Mathematical Model","title":"Mathematical Model","text":"Parameter Description SI Units\nD Pipe Diameter m\nL Pipe Length m\nA Pipe Area Cross Section m^2\np Gas Pressure pascals\nrho Gas Density kg/m^3\nZ Gas compressibility factor none\nm Gas Molar Mass kg/mol\nT Gas Temperature K\nR Universal Gas Constant J/mol/K\nphi Gas Mass Flux kg/m^2/s\nf Gas Mass Flow kg/s\nlambda Pipe friction factor none","category":"page"},{"location":"formulations/#Network-Formulations-1","page":"Network Formulations","title":"Network Formulations","text":"","category":"section"},{"location":"formulations/#Type-Hierarchy-1","page":"Network Formulations","title":"Type Hierarchy","text":"","category":"section"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"We begin with the top of the hierarchy, where we can distinguish between gas flow models. Currently, there are two variations of the weymouth equations, one where the directions of flux are known and one where they are unknown.","category":"page"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"AbstractDirectedGasFormulation <: AbstractGasFormulation\nAbstractUndirectedGasFormulation <: AbstractGasFormulation","category":"page"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"Each of these have a disjunctive form of the weymouth equations: The full non convex formulation and its conic relaxation.","category":"page"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"AbstractMINLPForm <: AbstractGasFormulation\nAbstractMISOCPForm <: AbstractGasFormulation","category":"page"},{"location":"formulations/#Gas-Models-1","page":"Network Formulations","title":"Gas Models","text":"","category":"section"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"Each of these forms can be used as the type parameter for a GasModel, i.e.:","category":"page"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"MINLPGasModel = GenericGasModel(StandardMINLPForm)\nMISOCPGasModel = GenericGasModel(StandardMISOCPForm)\nMIPGasModel = GenericGasModel(StandardMIPForm)","category":"page"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"For details on GenericGasModel, see the section on Gas Model.","category":"page"},{"location":"formulations/#User-Defined-Abstractions-1","page":"Network Formulations","title":"User-Defined Abstractions","text":"","category":"section"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"The user-defined abstractions begin from a root abstract like the AbstractGasFormulation abstract type, i.e.","category":"page"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"AbstractMyFooForm <: AbstractGasFormulation\n\nStandardMyFooForm <: AbstractFooForm\nFooGasModel = GenericGasModel{StandardFooForm}","category":"page"},{"location":"formulations/#Directed-Models-1","page":"Network Formulations","title":"Directed Models","text":"","category":"section"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"Modules = [GasModels]\nPages   = [\"form/directed.jl\"]\nOrder   = [:function]\nPrivate  = true","category":"page"},{"location":"formulations/#Undirected-Models-1","page":"Network Formulations","title":"Undirected Models","text":"","category":"section"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"Modules = [GasModels]\nPages   = [\"form/undirected.jl\"]\nOrder   = [:function]\nPrivate  = true","category":"page"},{"location":"formulations/#MINLP-1","page":"Network Formulations","title":"MINLP","text":"","category":"section"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"Modules = [GasModels]\nPages   = [\"form/minlp.jl\"]\nOrder   = [:function]\nPrivate  = true","category":"page"},{"location":"formulations/#GasModels.constraint_weymouth-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMINLPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth","text":"Weymouth equation with discrete direction variables \n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMINLPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth","text":"Weymouth equation with discrete direction variables \n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth_directed-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMINLPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth_directed","text":"Weymouth equation with fixed direction\n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth_ne-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMINLPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth_ne","text":"Weymouth equation for an uexpansion pipe \n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth_ne-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMINLPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth_ne","text":"Weymouth equation for an undirected expansion pipe \n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth_ne_directed-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMINLPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth_ne_directed","text":"Weymouth equation for directed expansion pipes\n\n\n\n\n\n","category":"method"},{"location":"formulations/#MISOCP-1","page":"Network Formulations","title":"MISOCP","text":"","category":"section"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"Modules = [GasModels]\nPages   = [\"form/misocp.jl\"]\nOrder   = [:function]\nPrivate  = true","category":"page"},{"location":"formulations/#GasModels.constraint_weymouth-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMISOCPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth","text":"Weymouth equation for a pipe \n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMISOCPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth","text":"Weymouth equation for an undirected pipe \n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth_directed-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMISOCPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth_directed","text":"Weymouth equation with a pipe with directed flow\n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth_ne-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMISOCPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth_ne","text":"Weymouth equation for an expansion pipe\n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth_ne-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMISOCPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth_ne","text":"Weymouth equation for an undirected expansion pipe\n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.constraint_weymouth_ne_directed-Union{Tuple{T}, Tuple{GenericGasModel{T},Int64,Any,Any,Any,Any,Any,Any,Any,Any,Any}} where T<:GasModels.AbstractMISOCPForm","page":"Network Formulations","title":"GasModels.constraint_weymouth_ne_directed","text":"Weymouth equation for expansion pipes with undirected expansion pipes\n\n\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.variable_mass_flow-Union{Tuple{GenericGasModel{T}}, Tuple{T}, Tuple{GenericGasModel{T},Int64}} where T<:GasModels.AbstractMISOCPForm","page":"Network Formulations","title":"GasModels.variable_mass_flow","text":"\n\n\n\n","category":"method"},{"location":"formulations/#GasModels.variable_mass_flow_ne-Union{Tuple{GenericGasModel{T}}, Tuple{T}, Tuple{GenericGasModel{T},Int64}} where T<:GasModels.AbstractMISOCPForm","page":"Network Formulations","title":"GasModels.variable_mass_flow_ne","text":"\n\n\n\n","category":"method"},{"location":"formulations/#MIP-1","page":"Network Formulations","title":"MIP","text":"","category":"section"},{"location":"formulations/#","page":"Network Formulations","title":"Network Formulations","text":"Modules = [GasModels]\nPages   = [\"form/mip.jl\"]\nOrder   = [:function]\nPrivate  = true","category":"page"},{"location":"specifications/#Problem-Specifications-1","page":"Problem Specifications","title":"Problem Specifications","text":"","category":"section"},{"location":"specifications/#Gas-Flow-(GF)-1","page":"Problem Specifications","title":"Gas Flow (GF)","text":"","category":"section"},{"location":"specifications/#Variables-1","page":"Problem Specifications","title":"Variables","text":"","category":"section"},{"location":"specifications/#","page":"Problem Specifications","title":"Problem Specifications","text":"variable_pressure_sqr(gm)\nvariable_flow(gm)\nvariable_valve_operation(gm)","category":"page"},{"location":"specifications/#Constraints-1","page":"Problem Specifications","title":"Constraints","text":"","category":"section"},{"location":"specifications/#","page":"Problem Specifications","title":"Problem Specifications","text":"for i in ids(gm, :junction)\n    constraint_junction_flow(gm, i)\nend\n    \nfor i in [collect(ids(gm, :pipe)); collect(ids(gm, :resistor))] \n    constraint_pipe_flow(gm, i) \nend\n\nfor i in ids(gm, :short_pipe)\n    constraint_short_pipe_flow(gm, i) \nend\n        \nfor i in ids(gm, :compressor)\n    constraint_compressor_flow(gm, i) \nend\n    \nfor i in ids(gm, :valve)\n    constraint_valve_flow(gm, i) \nend\n    \nfor i in ids(gm, :control_valve)     \n    constraint_control_valve_flow(gm, i) \nend","category":"page"},{"location":"specifications/#Maximum-Load-(LS)-1","page":"Problem Specifications","title":"Maximum Load (LS)","text":"","category":"section"},{"location":"specifications/#Variables-2","page":"Problem Specifications","title":"Variables","text":"","category":"section"},{"location":"specifications/#","page":"Problem Specifications","title":"Problem Specifications","text":"variable_flow(gm)  \nvariable_pressure_sqr(gm)\nvariable_valve_operation(gm)\nvariable_load(gm)\nvariable_production(gm)","category":"page"},{"location":"specifications/#Objective-1","page":"Problem Specifications","title":"Objective","text":"","category":"section"},{"location":"specifications/#","page":"Problem Specifications","title":"Problem Specifications","text":"objective_max_load(gm)","category":"page"},{"location":"specifications/#Constraints-2","page":"Problem Specifications","title":"Constraints","text":"","category":"section"},{"location":"specifications/#","page":"Problem Specifications","title":"Problem Specifications","text":"for i in [collect(ids(gm,:pipe)); collect(ids(gm,:resistor))] \n    constraint_pipe_flow(gm, i) \nend\n    \nfor i in ids(gm, :junction)\n    constraint_junction_flow_ls(gm, i)      \nend\n    \nfor i in ids(gm, :short_pipe)\n    constraint_short_pipe_flow(gm, i) \nend\n        \nfor i in ids(gm, :compressor) \n    constraint_compressor_flow(gm, i) \nend\n    \nfor i in ids(gm, :valve)     \n    constraint_valve_flow(gm, i) \nend\n    \nfor i in ids(gm, :control_valve) \n    constraint_control_valve_flow(gm, i) \nend","category":"page"},{"location":"specifications/#Expansion-Planning-(NE)-1","page":"Problem Specifications","title":"Expansion Planning (NE)","text":"","category":"section"},{"location":"specifications/#Objective-2","page":"Problem Specifications","title":"Objective","text":"","category":"section"},{"location":"specifications/#","page":"Problem Specifications","title":"Problem Specifications","text":"objective_min_ne_cost(gm)","category":"page"},{"location":"specifications/#Variables-3","page":"Problem Specifications","title":"Variables","text":"","category":"section"},{"location":"specifications/#","page":"Problem Specifications","title":"Problem Specifications","text":"variable_pressure_sqr(gm)\nvariable_flow(gm)\nvariable_flow_ne(gm)    \nvariable_valve_operation(gm)\nvariable_pipe_ne(gm)\nvariable_compressor_ne(gm)","category":"page"},{"location":"specifications/#Constraints-3","page":"Problem Specifications","title":"Constraints","text":"","category":"section"},{"location":"specifications/#","page":"Problem Specifications","title":"Problem Specifications","text":"for i in ids(gm, :junction)\n    constraint_junction_flow_ne(gm, i) \nend\n\nfor i in [collect(ids(gm,:pipe)); collect(ids(gm,:resistor))] \n    constraint_pipe_flow_ne(gm, i)\nend\n\nfor i in ids(gm,:ne_pipe) \n    constraint_new_pipe_flow_ne(gm, i)\nend\n    \nfor i in ids(gm, :short_pipe) \n    constraint_short_pipe_flow_ne(gm, i)\nend\n    \nfor i in ids(gm, :compressor)\n    constraint_compressor_flow_ne(gm, i)\nend\n    \nfor i in ids(gm, :ne_compressor) \n    constraint_new_compressor_flow_ne(gm, i)\nend  \n         \nfor i in ids(gm, :valve)  \n    constraint_valve_flow(gm, i)       \nend\n    \nfor i in ids(gm, :control_valve)\n    constraint_control_valve_flow(gm, i)       \nend\n    \nexclusive = Dict()\nfor (idx, pipe) in gm.ref[:nw][gm.cnw][:ne_pipe]\n    i = min(pipe[\"f_junction\"],pipe[\"t_junction\"])\n    j = max(pipe[\"f_junction\"],pipe[\"t_junction\"])\n   \n    if haskey(exclusive, i) == false  \n        exclusive[i] = Dict()\n    end  \n           \n    if haskey(exclusive[i], j) == false \n        constraint_exclusive_new_pipes(gm, i, j)         \n        exclusive[i][j] = true\n    end             \nend","category":"page"},{"location":"model/#Gas-Model-1","page":"GasModel","title":"Gas Model","text":"","category":"section"},{"location":"model/#","page":"GasModel","title":"GasModel","text":"CurrentModule = GasModels","category":"page"},{"location":"model/#","page":"GasModel","title":"GasModel","text":"All methods for constructing gasmodels should be defined on the following type:","category":"page"},{"location":"model/#","page":"GasModel","title":"GasModel","text":"GenericGasModel","category":"page"},{"location":"model/#GasModels.GenericGasModel","page":"GasModel","title":"GasModels.GenericGasModel","text":"mutable struct GenericGasModel{T<:AbstractGasFormulation}\n    model::JuMP.Model\n    data::Dict{String,Any}\n    setting::Dict{String,Any}\n    solution::Dict{String,Any}\n    var::Dict{Symbol,Any} # model variable lookup\n    constraint::Dict{Symbol, Dict{Any, ConstraintRef}} # model constraint lookup\n    ref::Dict{Symbol,Any} # reference data\n    ext::Dict{Symbol,Any} # user extensions\nend\n\nwhere\n\ndata is the original data, usually from reading in a .json file,\nsetting usually looks something like Dict(\"output\" => Dict(\"flows\" => true)), and\nref is a place to store commonly used pre-computed data from of the data dictionary,   primarily for converting data-types, filtering out deactivated components, and storing   system-wide values that need to be computed globally. See build_ref(data) for further details.\n\nMethods on GenericGasModel for defining variables and adding constraints should\n\nwork with the ref dict, rather than the original data dict,\nadd them to model::JuMP.Model, and\nfollow the conventions for variable and constraint names.\n\n\n\n\n\n","category":"type"},{"location":"model/#","page":"GasModel","title":"GasModel","text":"which utilizes the following (internal) functions:","category":"page"},{"location":"model/#","page":"GasModel","title":"GasModel","text":"build_ref","category":"page"},{"location":"model/#GasModels.build_ref","page":"GasModel","title":"GasModels.build_ref","text":"Returns a dict that stores commonly used pre-computed data from of the data dictionary, primarily for converting data-types, filtering out deactivated components, and storing system-wide values that need to be computed globally.\n\nSome of the common keys include:\n\n:max_mass_flow (see max_mass_flow(data)),\n:connection – the set of connections that are active in the network (based on the component status values),\n:pipe – the set of connections that are pipes (based on the component type values),\n:short_pipe – the set of connections that are short pipes (based on the component type values),\n:compressor – the set of connections that are compressors (based on the component type values),\n:valve – the set of connections that are valves (based on the component type values),\n:control_valve – the set of connections that are control valves (based on the component type values),\n:resistor – the set of connections that are resistors (based on the component type values),\n:parallel_connections – the set of all existing connections between junction pairs (i,j),\n:all_parallel_connections – the set of all existing and new connections between junction pairs (i,j),\n:junction_connections – the set of all existing connections of junction i,\n:junction_ne_connections – the set of all new connections of junction i,\n:junction_consumers – the mapping Dict(i => [consumer[\"ql_junc\"] for (i,consumer) in ref[:consumer]]).\n:junction_producers – the mapping Dict(i => [producer[\"qg_junc\"] for (i,producer) in ref[:producer]]).\njunction[degree] – the degree of junction i using existing connections (see add_degree)),\njunction[all_degree] – the degree of junction i using existing and new connections (see add_degree)),\nconnection[pd_min,pd_max] – the max and min square pressure difference (see add_pd_bounds_swr)),\n\nIf :ne_connection does not exist, then an empty reference is added If status does not exist in the data, then 1 is added If construction cost does not exist in the :ne_connection, then 0 is added\n\n\n\n\n\n","category":"function"},{"location":"objective/#Objective-1","page":"Objective","title":"Objective","text":"","category":"section"},{"location":"objective/#","page":"Objective","title":"Objective","text":"Modules = [GasModels]\nPages   = [\"core/objective.jl\"]\nOrder   = [:function]\nPrivate  = true","category":"page"},{"location":"objective/#GasModels.objective_max_load","page":"Objective","title":"GasModels.objective_max_load","text":"function for maximizing load \n\n\n\n\n\n","category":"function"},{"location":"objective/#GasModels.objective_min_ne_cost","page":"Objective","title":"GasModels.objective_min_ne_cost","text":"function for costing expansion of pipes and compressors \n\n\n\n\n\n","category":"function"},{"location":"variables/#Variables-1","page":"Variables","title":"Variables","text":"","category":"section"},{"location":"variables/#","page":"Variables","title":"Variables","text":"We provide the following methods to provide a compositional approach for defining common variables used in gas flow models. These methods should always be defined over \"GenericGasModel\".","category":"page"},{"location":"variables/#","page":"Variables","title":"Variables","text":"Modules = [GasModels]\nPages   = [\"core/variable.jl\"]\nOrder   = [:type, :function]\nPrivate  = true","category":"page"},{"location":"variables/#GasModels.getstart","page":"Variables","title":"GasModels.getstart","text":"extracts the start value\n\n\n\n\n\n","category":"function"},{"location":"variables/#GasModels.variable_compressor_ne","page":"Variables","title":"GasModels.variable_compressor_ne","text":"variables associated with building compressors \n\n\n\n\n\n","category":"function"},{"location":"variables/#GasModels.variable_connection_direction-Union{Tuple{GenericGasModel{T}}, Tuple{T}, Tuple{GenericGasModel{T},Int64}} where T<:GasModels.AbstractGasFormulation","page":"Variables","title":"GasModels.variable_connection_direction","text":"variables associated with direction of flow on the connections. yp = 1 imples flow goes from fjunction to tjunction. yn = 1 imples flow goes from tjunction to fjunction \n\n\n\n\n\n","category":"method"},{"location":"variables/#GasModels.variable_connection_direction_ne-Union{Tuple{GenericGasModel{T}}, Tuple{T}, Tuple{GenericGasModel{T},Int64}} where T<:GasModels.AbstractGasFormulation","page":"Variables","title":"GasModels.variable_connection_direction_ne","text":"variables associated with direction of flow on the connections yp = 1 imples flow goes from fjunction to tjunction. yn = 1 imples flow goes from tjunction to fjunction \n\n\n\n\n\n","category":"method"},{"location":"variables/#GasModels.variable_load_mass_flow","page":"Variables","title":"GasModels.variable_load_mass_flow","text":"variables associated with demand \n\n\n\n\n\n","category":"function"},{"location":"variables/#GasModels.variable_mass_flow","page":"Variables","title":"GasModels.variable_mass_flow","text":"variables associated with mass flow \n\n\n\n\n\n","category":"function"},{"location":"variables/#GasModels.variable_mass_flow_ne","page":"Variables","title":"GasModels.variable_mass_flow_ne","text":"variables associated with mass flow in expansion planning \n\n\n\n\n\n","category":"function"},{"location":"variables/#GasModels.variable_pipe_ne","page":"Variables","title":"GasModels.variable_pipe_ne","text":"variables associated with building pipes \n\n\n\n\n\n","category":"function"},{"location":"variables/#GasModels.variable_pressure_sqr-Union{Tuple{GenericGasModel{T}}, Tuple{T}, Tuple{GenericGasModel{T},Int64}} where T<:GasModels.AbstractGasFormulation","page":"Variables","title":"GasModels.variable_pressure_sqr","text":"variables associated with pressure squared \n\n\n\n\n\n","category":"method"},{"location":"variables/#GasModels.variable_production_mass_flow","page":"Variables","title":"GasModels.variable_production_mass_flow","text":"variables associated with production \n\n\n\n\n\n","category":"function"},{"location":"variables/#GasModels.variable_valve_operation","page":"Variables","title":"GasModels.variable_valve_operation","text":"0-1 variables associated with operating valves \n\n\n\n\n\n","category":"function"},{"location":"constraints/#Constraints-1","page":"Constraints","title":"Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"CurrentModule = GasModels","category":"page"},{"location":"constraints/#Constraint-Templates-1","page":"Constraints","title":"Constraint Templates","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"Constraint templates help simplify data wrangling across multiple Gas Flow formulations by providing an abstraction layer between the network data and network constraint definitions. The constraint template's job is to extract the required parameters from a given network data structure and pass the data as named arguments to the Gas Flow formulations.","category":"page"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"These templates should be defined over GenericGasModel and should not refer to model variables. For more details, see the files: core/constraint_template.jl and core/constraint.jl.","category":"page"},{"location":"constraints/#Junction-Constraints-1","page":"Constraints","title":"Junction Constraints","text":"","category":"section"},{"location":"constraints/#Flow-Balance-Constraints-1","page":"Constraints","title":"Flow Balance Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_junction_flow_balance","category":"page"},{"location":"constraints/#Load-Shedding-Constraints-1","page":"Constraints","title":"Load Shedding Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_junction_flow_balance_ls","category":"page"},{"location":"constraints/#Network-Expansion-Constraints-1","page":"Constraints","title":"Network Expansion Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_junction_flow_balance_ne\nconstraint_junction_flow_balance_ne_ls","category":"page"},{"location":"constraints/#Pipe-Constraints-1","page":"Constraints","title":"Pipe Constraints","text":"","category":"section"},{"location":"constraints/#Weymouth's-Law-Constraints-1","page":"Constraints","title":"Weymouth's Law Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_weymouth","category":"page"},{"location":"constraints/#GasModels.constraint_weymouth","page":"Constraints","title":"GasModels.constraint_weymouth","text":"Weymouth equation with discrete direction variables \n\n\n\n\n\nWeymouth equation with discrete direction variables \n\n\n\n\n\nWeymouth equation with discrete direction variables \n\n\n\n\n\nWeymouth equation for an undirected pipe \n\n\n\n\n\nWeymouth equation for a pipe \n\n\n\n\n\n","category":"function"},{"location":"constraints/#Direction-On/off-Constraints-1","page":"Constraints","title":"Direction On/off Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_on_off_pressure_drop\nconstraint_on_off_pipe_flow","category":"page"},{"location":"constraints/#GasModels.constraint_on_off_pressure_drop","page":"Constraints","title":"GasModels.constraint_on_off_pressure_drop","text":"constraints on pressure drop across pipes \n\n\n\n\n\nconstraints on pressure drop across an undirected pipe\n\n\n\n\n\nconstraints on pressure drop across an undirected pipe\n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_on_off_pipe_flow","page":"Constraints","title":"GasModels.constraint_on_off_pipe_flow","text":"constraint on flow across an undirected pipe \n\n\n\n\n\nconstraint on flow across an undirected pipe \n\n\n\n\n\ngeneric constraint on flow across the pipe where direction is passed in as a variable or constant\n\n\n\n\n\n","category":"function"},{"location":"constraints/#Network-Expansion-Constraints-2","page":"Constraints","title":"Network Expansion Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_weymouth_ne\nconstraint_on_off_pressure_drop_ne\nconstraint_on_off_pipe_flow_ne","category":"page"},{"location":"constraints/#GasModels.constraint_weymouth_ne","page":"Constraints","title":"GasModels.constraint_weymouth_ne","text":"Weymouth equation for undirected expansion pipes \n\n\n\n\n\nWeymouth equation for an undirected expansion pipe \n\n\n\n\n\nWeymouth equation for an uexpansion pipe \n\n\n\n\n\nWeymouth equation for an undirected expansion pipe\n\n\n\n\n\nWeymouth equation for an expansion pipe\n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_on_off_pressure_drop_ne","page":"Constraints","title":"GasModels.constraint_on_off_pressure_drop_ne","text":"constraints on pressure drop across pipes \n\n\n\n\n\nconstraints on pressure drop across an undirected expansion pipe \n\n\n\n\n\nconstraints on pressure drop across a pipe \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_on_off_pipe_flow_ne","page":"Constraints","title":"GasModels.constraint_on_off_pipe_flow_ne","text":"constraints on flow across an expansion pipe that is undirected \n\n\n\n\n\nconstraints on flow across an expansion undirected pipe \n\n\n\n\n\nconstraints on flow across an expansion pipe \n\n\n\n\n\n","category":"function"},{"location":"constraints/#Compressor-Constraints-1","page":"Constraints","title":"Compressor Constraints","text":"","category":"section"},{"location":"constraints/#Direction-On/off-Constraints-2","page":"Constraints","title":"Direction On/off Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_on_off_compressor_flow\nconstraint_on_off_compressor_ratios","category":"page"},{"location":"constraints/#GasModels.constraint_on_off_compressor_flow","page":"Constraints","title":"GasModels.constraint_on_off_compressor_flow","text":"constraints on flow across an undirected compressor \n\n\n\n\n\nconstraints on flow across an undirected compressor \n\n\n\n\n\nconstraints on flow across a compressor \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_on_off_compressor_ratios","page":"Constraints","title":"GasModels.constraint_on_off_compressor_ratios","text":"enforces pressure changes bounds that obey compression ratios for an undirected compressor \n\n\n\n\n\nenforces pressure changes bounds that obey compression ratios for an undirected compressor \n\n\n\n\n\nenforces pressure changes bounds that obey compression ratios for a compressor \n\n\n\n\n\n","category":"function"},{"location":"constraints/#Network-Expansion-Constraints-3","page":"Constraints","title":"Network Expansion Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_on_off_compressor_flow_ne\nconstraint_on_off_compressor_ratios_ne","category":"page"},{"location":"constraints/#GasModels.constraint_on_off_compressor_flow_ne","page":"Constraints","title":"GasModels.constraint_on_off_compressor_flow_ne","text":"constraints on flow across an undirected compressor \n\n\n\n\n\nconstraints on flow across undirected compressors \n\n\n\n\n\nconstraints on flow across compressors \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_on_off_compressor_ratios_ne","page":"Constraints","title":"GasModels.constraint_on_off_compressor_ratios_ne","text":"constraints on pressure drop across an undirected compressor \n\n\n\n\n\nconstraints on pressure drop across an undirected compressor \n\n\n\n\n\nconstraints on pressure drop across a compressor \n\n\n\n\n\n","category":"function"},{"location":"constraints/#Control-Valve-Constraints-1","page":"Constraints","title":"Control Valve Constraints","text":"","category":"section"},{"location":"constraints/#Direction-On/off-Constraints-3","page":"Constraints","title":"Direction On/off Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_on_off_control_valve_flow\nconstraint_on_off_control_valve_pressure_drop","category":"page"},{"location":"constraints/#GasModels.constraint_on_off_control_valve_flow","page":"Constraints","title":"GasModels.constraint_on_off_control_valve_flow","text":"constraints on flow across an undirected control valve \n\n\n\n\n\nconstraints on flow across control valves that are undirected \n\n\n\n\n\nconstraints on flow across control valves\n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_on_off_control_valve_pressure_drop","page":"Constraints","title":"GasModels.constraint_on_off_control_valve_pressure_drop","text":"constraints on pressure drop across control valves that are undirected \n\n\n\n\n\nconstraints on pressure drop across control valves that are undirected \n\n\n\n\n\nconstraints on pressure drop across control valves\n\n\n\n\n\n","category":"function"},{"location":"constraints/#Valve-Constraints-1","page":"Constraints","title":"Valve Constraints","text":"","category":"section"},{"location":"constraints/#Direction-On/off-Constraints-4","page":"Constraints","title":"Direction On/off Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_on_off_valve_flow\nconstraint_on_off_valve_pressure_drop","category":"page"},{"location":"constraints/#GasModels.constraint_on_off_valve_flow","page":"Constraints","title":"GasModels.constraint_on_off_valve_flow","text":"constraints on flow across an undirected valve \n\n\n\n\n\nconstraints on flow across undirected valves \n\n\n\n\n\nconstraints on flow across undirected valves \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_on_off_valve_pressure_drop","page":"Constraints","title":"GasModels.constraint_on_off_valve_pressure_drop","text":"constraints on pressure drop across valves \n\n\n\n\n\nconstraints on pressure drop across valves \n\n\n\n\n\n","category":"function"},{"location":"constraints/#Short-Pipes-1","page":"Constraints","title":"Short Pipes","text":"","category":"section"},{"location":"constraints/#Direction-On/off-Constraints-5","page":"Constraints","title":"Direction On/off Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_on_off_short_pipe_flow\nconstraint_short_pipe_pressure_drop","category":"page"},{"location":"constraints/#GasModels.constraint_on_off_short_pipe_flow","page":"Constraints","title":"GasModels.constraint_on_off_short_pipe_flow","text":"constraints on flow across a  short pipe \n\n\n\n\n\nconstraints on flow across an undirected short pipe \n\n\n\n\n\nconstraints on flow across an undirected short pipe \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_short_pipe_pressure_drop","page":"Constraints","title":"GasModels.constraint_short_pipe_pressure_drop","text":"constraints on pressure drop across pipes \n\n\n\n\n\nconstraints on pressure drop across pipes \n\n\n\n\n\n","category":"function"},{"location":"constraints/#Direction-Cutting-Constraints-1","page":"Constraints","title":"Direction Cutting Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_source_flow\nconstraint_sink_flow\nconstraint_conserve_flow\nconstraint_parallel_flow","category":"page"},{"location":"constraints/#GasModels.constraint_source_flow","page":"Constraints","title":"GasModels.constraint_source_flow","text":"Make sure there is at least one direction set to take flow away from a junction (typically used on source nodes) \n\n\n\n\n\nMake sure there is at least one direction set to take flow away from a junction (typically used on source nodes) \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_sink_flow","page":"Constraints","title":"GasModels.constraint_sink_flow","text":"Make sure there is at least one direction set to take flow to a junction (typically used on sink nodes) \n\n\n\n\n\nMake sure there is at least one direction set to take flow to a junction (typically used on sink nodes) \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_conserve_flow","page":"Constraints","title":"GasModels.constraint_conserve_flow","text":"This constraint is intended to ensure that flow is on direction through a node with degree 2 and no production or consumption \n\n\n\n\n\nThis constraint is intended to ensure that flow is on direction through a node with degree 2 and no production or consumption \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_parallel_flow","page":"Constraints","title":"GasModels.constraint_parallel_flow","text":"ensures that parallel lines have flow in the same direction \n\n\n\n\n\nensures that parallel lines have flow in the same direction \n\n\n\n\n\n","category":"function"},{"location":"constraints/#Network-Expansion-Constraints-4","page":"Constraints","title":"Network Expansion Constraints","text":"","category":"section"},{"location":"constraints/#","page":"Constraints","title":"Constraints","text":"constraint_source_flow_ne\nconstraint_sink_flow_ne\nconstraint_conserve_flow_ne\nconstraint_parallel_flow_ne","category":"page"},{"location":"constraints/#GasModels.constraint_source_flow_ne","page":"Constraints","title":"GasModels.constraint_source_flow_ne","text":"Make sure there is at least one direction set to take flow away from a junction (typically used on source nodes) \n\n\n\n\n\nMake sure there is at least one direction set to take flow away from a junction (typically used on source nodes) \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_sink_flow_ne","page":"Constraints","title":"GasModels.constraint_sink_flow_ne","text":"Make sure there is at least one direction set to take flow to a junction (typically used on sink nodes) \n\n\n\n\n\nMake sure there is at least one direction set to take flow to a junction (typically used on sink nodes) \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_conserve_flow_ne","page":"Constraints","title":"GasModels.constraint_conserve_flow_ne","text":"This constraint is intended to ensure that flow is on direction through a node with degree 2 and no production or consumption \n\n\n\n\n\nThis constraint is intended to ensure that flow is on direction through a node with degree 2 and no production or consumption \n\n\n\n\n\n","category":"function"},{"location":"constraints/#GasModels.constraint_parallel_flow_ne","page":"Constraints","title":"GasModels.constraint_parallel_flow_ne","text":"ensures that parallel lines have flow in the same direction \n\n\n\n\n\nensures that parallel lines have flow in the same direction \n\n\n\n\n\n","category":"function"},{"location":"parser/#File-IO-1","page":"File IO","title":"File IO","text":"","category":"section"},{"location":"parser/#","page":"File IO","title":"File IO","text":"TODO","category":"page"},{"location":"developer/#Developer-Documentation-1","page":"Developer","title":"Developer Documentation","text":"","category":"section"},{"location":"developer/#","page":"Developer","title":"Developer","text":"Nothing yet.","category":"page"}]
}
